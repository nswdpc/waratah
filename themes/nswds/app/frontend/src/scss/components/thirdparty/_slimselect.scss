@use '../../../../node_modules/nsw-design-system/src/global/scss/base/mixins' as nswdsMixins;
@use '../../../../node_modules/nsw-design-system/src/global/scss/base/functions' as nswdsFunctions;
@forward '../../../../node_modules/nsw-design-system/src/components/form/form';
@forward '../../../../node_modules/nsw-design-system/src/components/select/select';

/**
 * SlimSelect styling for listbox fields
 */
select.ss-listbox {
  /**
   * Update UI so that element is focusable during validation
   */
   pointer-events: none;
   display: block !important;
   border: none;
   height: 1px !important;
   min-height: 0 !important;
   padding: 0 !important;
   background: transparent;
   opacity: 0 !important;
}

.ss-main {

  @extend .nsw-form__select;
  margin-top: nswdsFunctions.rem(4px);
  padding-left: nswdsFunctions.rem(11px);

  .ss-arrow {
    display: none;
  }

  .ss-values {

    .ss-value {
      padding: nswdsFunctions.rem(4px) nswdsFunctions.rem(8px);
      margin: 0;
      background-color: var(--nsw-brand-dark);
      color: var(--nsw-text-light);
      border-radius: var(--nsw-border-radius);

      .ss-value-text {
        @include nswdsMixins.font-size('sm');
        & {
          padding: 0px nswdsFunctions.rem(4px) 0 0;
        }
      }

      .ss-value-delete {
        border-left: none;
      }
    }

    .ss-disabled {
      color: var(--nsw-grey-01);
      background: var(--nsw-grey-02);
    }

  }

}

.ss-content {

  border: 1px solid var(--nsw-grey-01);
  border-top: none;

  .ss-search {

    padding: nswdsFunctions.rem(16px);
    align-items: center;

    input {
      @extend .nsw-form__input;
    }

    .ss-addable {
      background-color: var(--nsw-palette-green-02);
      border: none;
      border-radius: 50%;
      width: nswdsFunctions.rem(32px);
      height: nswdsFunctions.rem(32px);
      margin-left: nswdsFunctions.rem(16px);

      svg {
        path {
          stroke: var(--nsw-white);
        }
      }
    }

  }

  .ss-list {

    padding: 0;

    .ss-option {

      @include nswdsMixins.font-size('sm');
      & {
        padding: nswdsFunctions.rem(8px);
        margin-bottom: 1px;
        white-space: break-spaces;
      }

      &:hover {
        background-color: var(--nsw-brand-light);
        color: var(--nsw-text-dark);
      }

      &:not(.ss-disabled).ss-selected {
        background-color: var(--nsw-brand-supplementary);
        color: var(--nsw-text-light);
      }

      &.ss-disabled,
      &.ss-disabled:hover {
        color: var(--nsw-grey-01);
        background-color: var(--nsw-grey-04);
      }

      mark {
        padding: 0;
        color: var(--nsw-grey-01);
        background: var(--nsw-palette-yellow-03);
      }

    }

  }

  &.ss-open-above {
    border: 1px solid var(--nsw-grey-01);
    border-bottom: none;
  }

}
